<?xml version="1.0" encoding="UTF-8"?>
<openerp>
<data>

<template id="supplierinfo_conditions"
          inherit_id="website_portal_purchase_product.supplierinfo_conditions">
    <xpath expr="." position="inside">
        <t t-call="website_product_supplierinfo_delivery_policy.policy_container"/>
    </xpath>
</template>

<template id="policy_container" name="Policy">
    <div class="row">
        <div class="col-md-12">
            <label>Delivery Policy</label>
            <t t-call="website_product_supplierinfo_delivery_policy.policy_fields"/>
        </div>
    </div>
</template>

<template id="policy_fields" name="Delivery Policy">
    <div class="o_product_supplierinfo_delivery_policy">
        <div class="col-md-2">
            <label class="radio-inline">
                <t t-set="field_name"
                    t-value="'supplierinfo_{:d}_delivery_policy'.format(supplierinfo.id)"/>
                    <div t-attf-class="col-md-4 form-group #{errors.get(field_name) and 'has-error'}">
                         <input t-att-id="field_name"
                                t-att-name="field_name"
                                type="radio"
                                value="free"
                                t-att-checked="supplierinfo.delivery_policy == 'free' and 'checked' or None"/>
                    </div>
                    Free
            </label>
        </div>
        <div class="col-md-3">
            <label class="radio-inline">
                <t t-set="field_name"
                    t-value="'supplierinfo_{:d}_delivery_policy'.format(supplierinfo.id)"/>
                    <div t-attf-class="col-md-4 form-group #{errors.get(field_name) and 'has-error'}">
                         <input t-att-id="field_name"
                                t-att-name="field_name"
                                type="radio"
                                value="not_free"
                                t-att-checked="supplierinfo.delivery_policy == 'not_free' and 'checked' or None"/>
                    </div>
                    Not Free
            </label>
        </div>
        <div class="col-md-7">
            <div class="row">
                <div class="col-md-8 col-xs-8">
                    <label class="radio-inline">
                    <t t-set="field_name"
                        t-value="'supplierinfo_{:d}_delivery_policy'.format(supplierinfo.id)"/>
                        <div t-attf-class="col-md-4 form-group #{errors.get(field_name) and 'has-error'}">
                             <input t-att-id="field_name"
                                    t-att-name="field_name"
                                    type="radio"
                                    value="min_qty_free"
                                    t-att-checked="supplierinfo.delivery_policy == 'min_qty_free' and 'checked' or None"/>
                         </div>
                        Free over minimal quantity
                    </label>
                </div>
                <div id="min_qty_delivery_free"
                     t-attf-class="form-group #{errors.get(field_name) and 'has-error'} #{supplierinfo.delivery_policy != 'min_qty_free' and 'hidden'}"
                     t-att-class="supplierinfo.delivery_policy != 'min_qty_free' and 'hidden' or ''">
                    <t t-set="field_name"
                       t-value="'supplierinfo_{:d}_min_qty_delivery_free'.format(supplierinfo.id)"/>
                    <label t-att-for="field_name" class="control-label visible-xs visible-sm">
                        Min quantity
                    </label>
                    <div class="input-group">
                        <input t-att-id="field_name"
                               class="form-control"
                               t-att-name="field_name"
                               type="number"
                               min="0"
                               t-att-value="supplierinfo.min_qty_delivery_free"/>
                        <span class="input-group-addon">Uds.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

</data>
</openerp>
